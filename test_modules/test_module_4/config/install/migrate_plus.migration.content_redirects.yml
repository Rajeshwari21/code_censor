langcode: en
status: true
dependencies:
  enforced:
    module:
      - test_module_4
id: content_redirects
class: null
field_plugin_method: null
cck_plugin_method: null
migration_tags: null
migration_group: default
label: 'Import content Redirects'
source:
  plugin: xml_parser
  data_fetcher_plugin: file
  data_parser_plugin: simple_xml
  filename: rewritemaps.config
  item_selector: "/rewriteMaps/rewriteMap/add"
  fields:
    -
      name: key
      label: Key
      selector: '@key'
    -
      name: value
      label: Value
      selector: '@value'
  ids:
    key:
      type: string
process:
  redirect_paths:
    plugin: parse_redirect_urls
    source:
      - key
      - value
  redirect_source/path:
    plugin: extract
    source: '@redirect_paths'
    index:
      - source
  redirect_source/query:
    plugin: default_value
    default_value: 'a:0:{}'
  redirect_redirect/uri:
    -
      plugin: extract
      source: '@redirect_paths'
      index:
        - redirect
    -
      plugin: skip_on_empty
      method: row
  redirect_redirect/title:
    plugin: default_value
    default_value: null
  redirect_redirect/options:
    plugin: default_value
    default_value: 'a:0:{}'
  status_code:
    plugin: default_value
    default_value: 301
  uid:
    plugin: default_value
    default_value: 1
  type:
    plugin: default_value
    default_value: redirect
destination:
  plugin: 'entity:redirect'
migration_dependencies: null
